C51 COMPILER V9.60.0.0   BSP_USART                                                         02/16/2020 15:16:04 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE BSP_USART
OBJECT MODULE PLACED IN ..\Objects\bsp_usart.obj
COMPILER INVOKED BY: C:\keil\C51\BIN\C51.EXE ..\BSP\src\bsp_usart.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\user;..\BSP\inc) 
                    -DEBUG OBJECTEXTEND PRINT(..\Listings\bsp_usart.lst) OBJECT(..\Objects\bsp_usart.obj)

line level    source

   1          #include "bsp_usart.h"
   2          
   3          
   4          
   5          void UartInit(void)             //9600bps@11.0592MHz
   6          {
   7   1              SCON |= 0x50;            //8-bit variable UART
   8   1          TMOD |= 0x20;            //Set Timer1 as 8-bit auto reload mode
   9   1          TH1 = TL1 = -(11059200L/12/32/9600); //Set auto-reload vaule
  10   1          TR1 = 1;                //Timer1 start run
  11   1          //ES = 1;                 //Enable UART interrupt
  12   1          EA = 1;                 //Open master interrupt switch
  13   1      }
  14          
  15          
  16          void SendByte(unsigned char byte)
  17          {
  18   1              SBUF = byte;   //将要发送的数据放入到发送寄存器
  19   1              while(!TI);               //等待发送数据完成
  20   1              TI=0;                     //清除发送完成标志位
  21   1      }
  22          /*****************************************************************************
  23          字符串发送函数
  24          /****************************************************************************/
  25          void Send_String(unsigned char *str)            
  26          {
  27   1              while(*str != '\0')             
  28   1              {
  29   2                      SendByte(*str);                 
  30   2                      str++;          
  31   2              }                         
  32   1      }
  33          
  34          /*****************************************************************************
  35          字符串发送函数
  36          /****************************************************************************/
  37          void Send_String_Len(unsigned char *str, unsigned char Len)             
  38          {
  39   1              int i = 0;
  40   1              for(i = 0; i < Len; i++)
  41   1              {
  42   2                      SendByte(*str); 
  43   2                      str++;
  44   2              }
  45   1                                                                        
  46   1      }
  47          
  48          
  49          
  50          
  51          


MODULE INFORMATION:   STATIC OVERLAYABLE
C51 COMPILER V9.60.0.0   BSP_USART                                                         02/16/2020 15:16:04 PAGE 2   

   CODE SIZE        =     82    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
